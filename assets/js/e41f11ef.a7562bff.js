"use strict";(globalThis.webpackChunk_projax_docsite=globalThis.webpackChunk_projax_docsite||[]).push([[1238],{1184:(e,n,o)=>{o.d(n,{R:()=>r,x:()=>t});var s=o(4041);const i={},l=s.createContext(i);function r(e){const n=s.useContext(l);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),s.createElement(l.Provider,{value:n},e.children)}},9175:(e,n,o)=>{o.r(n),o.d(n,{assets:()=>a,contentTitle:()=>t,default:()=>u,frontMatter:()=>r,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"troubleshooting/api-server-issues","title":"Troubleshooting: API Server Issues","description":"Common API server issues and solutions.","source":"@site/docs/troubleshooting/api-server-issues.md","sourceDirName":"troubleshooting","slug":"/troubleshooting/api-server-issues","permalink":"/docs/troubleshooting/api-server-issues","draft":false,"unlisted":false,"editUrl":"https://github.com/josetwentyfour/projax/tree/main/packages/docsite/docs/troubleshooting/api-server-issues.md","tags":[],"version":"current","frontMatter":{},"sidebar":"troubleshooting","previous":{"title":"Troubleshooting: Database Issues","permalink":"/docs/troubleshooting/database-issues"},"next":{"title":"Troubleshooting: Script Execution","permalink":"/docs/troubleshooting/script-execution"}}');var i=o(1085),l=o(1184);const r={},t="Troubleshooting: API Server Issues",a={},c=[{value:"Problem: API Server Not Running",id:"problem-api-server-not-running",level:2},{value:"Solution 1: Check API Status",id:"solution-1-check-api-status",level:3},{value:"Solution 2: Start API Manually",id:"solution-2-start-api-manually",level:3},{value:"Solution 3: Check Port Availability",id:"solution-3-check-port-availability",level:3},{value:"Problem: API Server Won&#39;t Start",id:"problem-api-server-wont-start",level:2},{value:"Solution 1: Check Port Range",id:"solution-1-check-port-range",level:3},{value:"Solution 2: Kill Conflicting Processes",id:"solution-2-kill-conflicting-processes",level:3},{value:"Solution 3: Check Logs",id:"solution-3-check-logs",level:3},{value:"Problem: API Connection Errors",id:"problem-api-connection-errors",level:2},{value:"Solution 1: Check API Port",id:"solution-1-check-api-port",level:3},{value:"Solution 2: Test Health Endpoint",id:"solution-2-test-health-endpoint",level:3},{value:"Solution 3: Restart API Server",id:"solution-3-restart-api-server",level:3},{value:"Problem: CORS Errors",id:"problem-cors-errors",level:2},{value:"Solution: CORS is Enabled",id:"solution-cors-is-enabled",level:3},{value:"Problem: API Port File Missing",id:"problem-api-port-file-missing",level:2},{value:"Solution: Port File Auto-Creation",id:"solution-port-file-auto-creation",level:3},{value:"Problem: Multiple API Instances",id:"problem-multiple-api-instances",level:2},{value:"Solution: Stop All Instances",id:"solution-stop-all-instances",level:3},{value:"Related Documentation",id:"related-documentation",level:2}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,l.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"troubleshooting-api-server-issues",children:"Troubleshooting: API Server Issues"})}),"\n",(0,i.jsx)(n.p,{children:"Common API server issues and solutions."}),"\n",(0,i.jsx)(n.h2,{id:"problem-api-server-not-running",children:"Problem: API Server Not Running"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Symptom:"})," API endpoints not responding."]}),"\n",(0,i.jsx)(n.h3,{id:"solution-1-check-api-status",children:"Solution 1: Check API Status"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"prx api\n"})}),"\n",(0,i.jsx)(n.h3,{id:"solution-2-start-api-manually",children:"Solution 2: Start API Manually"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"prx api --start\n"})}),"\n",(0,i.jsx)(n.h3,{id:"solution-3-check-port-availability",children:"Solution 3: Check Port Availability"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Check if ports 3001-3010 are available\nlsof -i :3001  # macOS/Linux\nnetstat -ano | findstr :3001  # Windows\n"})}),"\n",(0,i.jsx)(n.h2,{id:"problem-api-server-wont-start",children:"Problem: API Server Won't Start"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Symptom:"})," ",(0,i.jsx)(n.code,{children:"prx api --start"})," fails."]}),"\n",(0,i.jsx)(n.h3,{id:"solution-1-check-port-range",children:"Solution 1: Check Port Range"}),"\n",(0,i.jsx)(n.p,{children:"All ports 3001-3010 may be in use:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Check each port\nfor port in {3001..3010}; do\n  lsof -i :$port  # macOS/Linux\ndone\n"})}),"\n",(0,i.jsx)(n.h3,{id:"solution-2-kill-conflicting-processes",children:"Solution 2: Kill Conflicting Processes"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Find and kill processes on ports\nlsof -ti:3001 | xargs kill -9  # macOS/Linux\n"})}),"\n",(0,i.jsx)(n.h3,{id:"solution-3-check-logs",children:"Solution 3: Check Logs"}),"\n",(0,i.jsx)(n.p,{children:"Check console output for error messages."}),"\n",(0,i.jsx)(n.h2,{id:"problem-api-connection-errors",children:"Problem: API Connection Errors"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Symptom:"})," Desktop app or CLI can't connect to API."]}),"\n",(0,i.jsx)(n.h3,{id:"solution-1-check-api-port",children:"Solution 1: Check API Port"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Read port from file\ncat ~/.projax/api-port.txt\n\n# Or check status\nprx api\n"})}),"\n",(0,i.jsx)(n.h3,{id:"solution-2-test-health-endpoint",children:"Solution 2: Test Health Endpoint"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Get port\nPORT=$(cat ~/.projax/api-port.txt)\n\n# Test health\ncurl http://localhost:$PORT/health\n"})}),"\n",(0,i.jsx)(n.h3,{id:"solution-3-restart-api-server",children:"Solution 3: Restart API Server"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Stop (if running)\n# Then start\nprx api --start\n"})}),"\n",(0,i.jsx)(n.h2,{id:"problem-cors-errors",children:"Problem: CORS Errors"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Symptom:"})," Browser console shows CORS errors."]}),"\n",(0,i.jsx)(n.h3,{id:"solution-cors-is-enabled",children:"Solution: CORS is Enabled"}),"\n",(0,i.jsx)(n.p,{children:"CORS is enabled by default. If issues persist:"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"Check API is running"}),"\n",(0,i.jsx)(n.li,{children:"Verify correct port"}),"\n",(0,i.jsx)(n.li,{children:"Check browser console for details"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"problem-api-port-file-missing",children:"Problem: API Port File Missing"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Symptom:"})," ",(0,i.jsx)(n.code,{children:"~/.projax/api-port.txt"})," doesn't exist."]}),"\n",(0,i.jsx)(n.h3,{id:"solution-port-file-auto-creation",children:"Solution: Port File Auto-Creation"}),"\n",(0,i.jsx)(n.p,{children:"The port file is created when API starts. If missing:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Start API\nprx api --start\n\n# File will be created automatically\n"})}),"\n",(0,i.jsx)(n.h2,{id:"problem-multiple-api-instances",children:"Problem: Multiple API Instances"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Symptom:"})," Multiple API servers running."]}),"\n",(0,i.jsx)(n.h3,{id:"solution-stop-all-instances",children:"Solution: Stop All Instances"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'# Find all node processes\nps aux | grep "api"\n\n# Kill API processes\nkill <pid>\n'})}),"\n",(0,i.jsx)(n.h2,{id:"related-documentation",children:"Related Documentation"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"/docs/api/installation",children:"API Installation"})," - API setup"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"/docs/api/port-management",children:"API Port Management"})," - Port configuration"]}),"\n"]})]})}function u(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}}}]);
"use strict";(globalThis.webpackChunk_projax_docsite=globalThis.webpackChunk_projax_docsite||[]).push([[810],{3572:(e,n,s)=>{s.d(n,{R:()=>a,x:()=>l});var i=s(1855);const r={},t=i.createContext(r);function a(e){const n=i.useContext(t);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),i.createElement(t.Provider,{value:n},e.children)}},8444:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>a,default:()=>h,frontMatter:()=>t,metadata:()=>l,toc:()=>o});var i=s(3159),r=s(3572);const t={},a="prx api",l={id:"cli/commands/api",title:"prx api",description:"Show API server information and manage the API server.",source:"@site/docs/cli/commands/api.md",sourceDirName:"cli/commands",slug:"/cli/commands/api",permalink:"/docs/cli/commands/api",draft:!1,unlisted:!1,editUrl:"https://github.com/josetwentyfour/projax/tree/main/packages/docsite/docs/cli/commands/api.md",tags:[],version:"current",frontMatter:{},sidebar:"cli",previous:{title:"prx web",permalink:"/docs/cli/commands/web"},next:{title:"prx ps",permalink:"/docs/cli/commands/ps"}},c={},o=[{value:"Syntax",id:"syntax",level:2},{value:"Options",id:"options",level:2},{value:"Description",id:"description",level:2},{value:"Examples",id:"examples",level:2},{value:"Show API status",id:"show-api-status",level:3},{value:"Start API server manually",id:"start-api-server-manually",level:3},{value:"API Server Details",id:"api-server-details",level:2},{value:"API Status Display",id:"api-status-display",level:2},{value:"Health Check",id:"health-check",level:2},{value:"Related Commands",id:"related-commands",level:2}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h1,{id:"prx-api",children:"prx api"}),"\n",(0,i.jsx)(n.p,{children:"Show API server information and manage the API server."}),"\n",(0,i.jsx)(n.h2,{id:"syntax",children:"Syntax"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"prx api [options]\n"})}),"\n",(0,i.jsx)(n.h2,{id:"options",children:"Options"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"-s, --start"}),": Start the API server"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"-k, --kill"}),": Stop the API server (not yet implemented)"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"description",children:"Description"}),"\n",(0,i.jsx)(n.p,{children:"Shows API server status and allows manual management of the API server. The API server is typically started automatically when you launch the Desktop web interface."}),"\n",(0,i.jsx)(n.h2,{id:"examples",children:"Examples"}),"\n",(0,i.jsx)(n.h3,{id:"show-api-status",children:"Show API status"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"prx api\n"})}),"\n",(0,i.jsx)(n.p,{children:"Shows:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Whether the API server is running"}),"\n",(0,i.jsx)(n.li,{children:"The port it's running on"}),"\n",(0,i.jsx)(n.li,{children:"Health check URL"}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"start-api-server-manually",children:"Start API server manually"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"prx api --start\n"})}),"\n",(0,i.jsx)(n.p,{children:"Manually starts the API server if it's not running."}),"\n",(0,i.jsx)(n.h2,{id:"api-server-details",children:"API Server Details"}),"\n",(0,i.jsx)(n.p,{children:"The API server:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Automatically finds an available port in the range 38124-38133"}),"\n",(0,i.jsxs)(n.li,{children:["Writes the port to ",(0,i.jsx)(n.code,{children:"~/.projax/api-port.txt"})," for discovery"]}),"\n",(0,i.jsx)(n.li,{children:"Provides REST endpoints for all operations"}),"\n",(0,i.jsx)(n.li,{children:"Enables CORS for cross-origin requests"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"api-status-display",children:"API Status Display"}),"\n",(0,i.jsx)(n.p,{children:"The API server status is also shown in:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"CLI welcome screen (when running any command)"}),"\n",(0,i.jsx)(n.li,{children:"Desktop app status bar (bottom of window)"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"health-check",children:"Health Check"}),"\n",(0,i.jsx)(n.p,{children:"Check if the API is running:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"curl http://localhost:38124/health\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Returns: ",(0,i.jsx)(n.code,{children:'{ "status": "ok", "timestamp": "..." }'})]}),"\n",(0,i.jsx)(n.h2,{id:"related-commands",children:"Related Commands"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"/docs/cli/commands/web",children:(0,i.jsx)(n.code,{children:"prx web"})})," - Start Desktop app (auto-starts API)"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"/docs/api/overview",children:"API Documentation"})," - Complete API documentation"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}}}]);
"use strict";(globalThis.webpackChunk_projax_docsite=globalThis.webpackChunk_projax_docsite||[]).push([[672],{2981:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>l,contentTitle:()=>t,default:()=>u,frontMatter:()=>i,metadata:()=>r,toc:()=>c});var o=n(3159),a=n(3572);const i={},t="Troubleshooting: Database Issues",r={id:"troubleshooting/database-issues",title:"Troubleshooting: Database Issues",description:"Common database issues and solutions.",source:"@site/docs/troubleshooting/database-issues.md",sourceDirName:"troubleshooting",slug:"/troubleshooting/database-issues",permalink:"/docs/troubleshooting/database-issues",draft:!1,unlisted:!1,editUrl:"https://github.com/josetwentyfour/projax/tree/main/packages/docsite/docs/troubleshooting/database-issues.md",tags:[],version:"current",frontMatter:{},sidebar:"troubleshooting",previous:{title:"Troubleshooting: Background Processes",permalink:"/docs/troubleshooting/background-processes"},next:{title:"Troubleshooting: API Server Issues",permalink:"/docs/troubleshooting/api-server-issues"}},l={},c=[{value:"Problem: Database Errors or Corruption",id:"problem-database-errors-or-corruption",level:2},{value:"Solution 1: Backup Database",id:"solution-1-backup-database",level:3},{value:"Solution 2: Check Database File",id:"solution-2-check-database-file",level:3},{value:"Solution 3: Reset Database",id:"solution-3-reset-database",level:3},{value:"Problem: Database Not Found",id:"problem-database-not-found",level:2},{value:"Solution: Database Auto-Creation",id:"solution-database-auto-creation",level:3},{value:"Problem: Migration Issues",id:"problem-migration-issues",level:2},{value:"Solution 1: Check SQLite File",id:"solution-1-check-sqlite-file",level:3},{value:"Solution 2: Manual Migration",id:"solution-2-manual-migration",level:3},{value:"Solution 3: Check Migration Logs",id:"solution-3-check-migration-logs",level:3},{value:"Problem: Data Not Persisting",id:"problem-data-not-persisting",level:2},{value:"Solution 1: Check File Permissions",id:"solution-1-check-file-permissions",level:3},{value:"Solution 2: Check Disk Space",id:"solution-2-check-disk-space",level:3},{value:"Solution 3: Verify Write Access",id:"solution-3-verify-write-access",level:3},{value:"Problem: Concurrent Access Issues",id:"problem-concurrent-access-issues",level:2},{value:"Solution: Database Uses File Locking",id:"solution-database-uses-file-locking",level:3},{value:"Related Documentation",id:"related-documentation",level:2}];function d(e){const s={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,a.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(s.h1,{id:"troubleshooting-database-issues",children:"Troubleshooting: Database Issues"}),"\n",(0,o.jsx)(s.p,{children:"Common database issues and solutions."}),"\n",(0,o.jsx)(s.h2,{id:"problem-database-errors-or-corruption",children:"Problem: Database Errors or Corruption"}),"\n",(0,o.jsxs)(s.p,{children:[(0,o.jsx)(s.strong,{children:"Symptom:"})," Errors when running commands, data missing."]}),"\n",(0,o.jsx)(s.h3,{id:"solution-1-backup-database",children:"Solution 1: Backup Database"}),"\n",(0,o.jsx)(s.pre,{children:(0,o.jsx)(s.code,{className:"language-bash",children:"# Backup before troubleshooting\ncp ~/.projax/data.json ~/.projax/data.json.backup\n"})}),"\n",(0,o.jsx)(s.h3,{id:"solution-2-check-database-file",children:"Solution 2: Check Database File"}),"\n",(0,o.jsx)(s.pre,{children:(0,o.jsx)(s.code,{className:"language-bash",children:"# Verify file exists\nls -la ~/.projax/data.json\n\n# Check file is valid JSON\ncat ~/.projax/data.json | jq .\n"})}),"\n",(0,o.jsx)(s.h3,{id:"solution-3-reset-database",children:"Solution 3: Reset Database"}),"\n",(0,o.jsxs)(s.p,{children:["\u26a0\ufe0f ",(0,o.jsx)(s.strong,{children:"Warning:"})," This deletes all data!"]}),"\n",(0,o.jsx)(s.pre,{children:(0,o.jsx)(s.code,{className:"language-bash",children:"# Remove database\nrm ~/.projax/data.json\n\n# Will be recreated on next use\n"})}),"\n",(0,o.jsx)(s.h2,{id:"problem-database-not-found",children:"Problem: Database Not Found"}),"\n",(0,o.jsxs)(s.p,{children:[(0,o.jsx)(s.strong,{children:"Symptom:"}),' "Database not found" errors.']}),"\n",(0,o.jsx)(s.h3,{id:"solution-database-auto-creation",children:"Solution: Database Auto-Creation"}),"\n",(0,o.jsx)(s.p,{children:"The database is created automatically on first use. If it's not created:"}),"\n",(0,o.jsx)(s.pre,{children:(0,o.jsx)(s.code,{className:"language-bash",children:"# Ensure directory exists\nmkdir -p ~/.projax\n\n# Run any command to create database\nprx list\n"})}),"\n",(0,o.jsx)(s.h2,{id:"problem-migration-issues",children:"Problem: Migration Issues"}),"\n",(0,o.jsxs)(s.p,{children:[(0,o.jsx)(s.strong,{children:"Symptom:"})," SQLite migration fails or incomplete."]}),"\n",(0,o.jsx)(s.h3,{id:"solution-1-check-sqlite-file",children:"Solution 1: Check SQLite File"}),"\n",(0,o.jsx)(s.pre,{children:(0,o.jsx)(s.code,{className:"language-bash",children:"# Check if SQLite file exists\nls -la ~/.projax/dashboard.db\n"})}),"\n",(0,o.jsx)(s.h3,{id:"solution-2-manual-migration",children:"Solution 2: Manual Migration"}),"\n",(0,o.jsx)(s.pre,{children:(0,o.jsx)(s.code,{className:"language-bash",children:"# Backup SQLite\ncp ~/.projax/dashboard.db ~/.projax/dashboard.db.backup\n\n# Remove JSON database to trigger migration\nrm ~/.projax/data.json\n\n# Run any command to trigger migration\nprx list\n"})}),"\n",(0,o.jsx)(s.h3,{id:"solution-3-check-migration-logs",children:"Solution 3: Check Migration Logs"}),"\n",(0,o.jsx)(s.p,{children:"Check console output for migration errors."}),"\n",(0,o.jsx)(s.h2,{id:"problem-data-not-persisting",children:"Problem: Data Not Persisting"}),"\n",(0,o.jsxs)(s.p,{children:[(0,o.jsx)(s.strong,{children:"Symptom:"})," Changes not saved between sessions."]}),"\n",(0,o.jsx)(s.h3,{id:"solution-1-check-file-permissions",children:"Solution 1: Check File Permissions"}),"\n",(0,o.jsx)(s.pre,{children:(0,o.jsx)(s.code,{className:"language-bash",children:"# Check permissions\nls -la ~/.projax/data.json\n\n# Fix if needed\nchmod 644 ~/.projax/data.json\n"})}),"\n",(0,o.jsx)(s.h3,{id:"solution-2-check-disk-space",children:"Solution 2: Check Disk Space"}),"\n",(0,o.jsx)(s.pre,{children:(0,o.jsx)(s.code,{className:"language-bash",children:"# Check available space\ndf -h ~\n"})}),"\n",(0,o.jsx)(s.h3,{id:"solution-3-verify-write-access",children:"Solution 3: Verify Write Access"}),"\n",(0,o.jsx)(s.pre,{children:(0,o.jsx)(s.code,{className:"language-bash",children:"# Test write access\necho '{}' > ~/.projax/test.json\nrm ~/.projax/test.json\n"})}),"\n",(0,o.jsx)(s.h2,{id:"problem-concurrent-access-issues",children:"Problem: Concurrent Access Issues"}),"\n",(0,o.jsxs)(s.p,{children:[(0,o.jsx)(s.strong,{children:"Symptom:"})," Data corruption with multiple processes."]}),"\n",(0,o.jsx)(s.h3,{id:"solution-database-uses-file-locking",children:"Solution: Database Uses File Locking"}),"\n",(0,o.jsx)(s.p,{children:"The database uses file-based locking. If issues persist:"}),"\n",(0,o.jsxs)(s.ol,{children:["\n",(0,o.jsx)(s.li,{children:"Ensure only one process writes at a time"}),"\n",(0,o.jsx)(s.li,{children:"Close other projax instances"}),"\n",(0,o.jsx)(s.li,{children:"Restart processes"}),"\n"]}),"\n",(0,o.jsx)(s.h2,{id:"related-documentation",children:"Related Documentation"}),"\n",(0,o.jsxs)(s.ul,{children:["\n",(0,o.jsxs)(s.li,{children:[(0,o.jsx)(s.a,{href:"/docs/api/database",children:"API Database"})," - Database management"]}),"\n",(0,o.jsxs)(s.li,{children:[(0,o.jsx)(s.a,{href:"/docs/core/database",children:"Core Database"})," - Database architecture"]}),"\n"]})]})}function u(e={}){const{wrapper:s}={...(0,a.R)(),...e.components};return s?(0,o.jsx)(s,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}},3572:(e,s,n)=>{n.d(s,{R:()=>t,x:()=>r});var o=n(1855);const a={},i=o.createContext(a);function t(e){const s=o.useContext(i);return o.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function r(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:t(e.components),o.createElement(i.Provider,{value:s},e.children)}}}]);